{% extends 'base.html' %}
{% load static %}

{% block content %}

    <section class="hero-wrap hero-wrap-2" style="background-image: url('{% static 'images/bg_1.jpg' %}');" data-stellar-background-ratio="0.5">
      <div class="overlay"></div>
      <div class="container">
        <div class="row no-gutters slider-text align-items-center justify-content-center">
          <div class="col-md-9 ftco-animate text-center">
            <h1 class="mb-2 bread">Our Doctors</h1>
            <p class="breadcrumbs"><span class="mr-2"><a href="{% url 'home' %}">Home <i class="ion-ios-arrow-forward"></i></a></span> <span>Doctors <i class="ion-ios-arrow-forward"></i></span></p>
          </div>
        </div>
      </div>
    </section>

    <section class="ftco-section ftco-no-pt ftco-no-pb">
        <div class="container-fluid px-0">
            <div class="row no-gutters">
                {% for doctor in doctors %}
                <div class="col-md-6 col-lg-3 ftco-animate">
                    <div class="staff">
                        <div class="img-wrap d-flex align-items-stretch">
                            <div class="img align-self-stretch" style="background-image: url('{% if doctor.profile_picture %}{{ doctor.profile_picture.url }}{% else %}{% static 'images/default_doctor.jpg' %}{% endif %}');"></div>
                        </div>
                        <div class="text pt-3">
                            <h3 class="mb-2">{{ doctor.name }}</h3>
                            <span class="position mb-2">
                                {% if doctor.specialization %}
                                    {{ doctor.specialization.name }}
                                {% else %}
                                    General Practitioner
                                {% endif %}
                            </span>
                            <div class="faded">
                                <p>Qualification: {{ doctor.qualification }}</p>
                                <p>Experience: {{ doctor.experience_years }} years</p>
                                <p>Availability: {{ doctor.availability_info|default_if_none:"Not specified" }}</p>
                                {# You might add contact info or a link to a doctor detail page #}
                                <ul class="ftco-social text-center">
                                    <li class="ftco-animate"><a href="#" class="d-flex align-items-center justify-content-center"><span class="icon-twitter"></span></a></li>
                                    <li class="ftco-animate"><a href="#" class="d-flex align-items-center justify-content-center"><span class="icon-facebook"></span></a></li>
                                    <li class="ftco-animate"><a href="#" class="d-flex align-items-center justify-content-center"><span class="icon-google-plus"></span></a></li>
                                    <li class="ftco-animate"><a href="#" class="d-flex align-items-center justify-content-center"><span class="icon-instagram"></span></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <p>No doctors found.</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

{% endblock %}